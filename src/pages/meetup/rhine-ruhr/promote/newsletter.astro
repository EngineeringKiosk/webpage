---
import PromoteNewsletter from '../../../../components/meetup/promote/PromoteNewsletter.astro';

import { formatTime, monthSuffixedDay, year } from '../../../../scripts/date.js';
import { createMeetupHelpers } from '../../../../scripts/meetups.js';
import { getMeetupConfig } from '../../../../scripts/meetup-config.js';

const config = getMeetupConfig('rhine-ruhr');
const { getNextMeetup } = await createMeetupHelpers(config.collectionName);

const bufferDays = 1;
const nextMeetup = getNextMeetup(bufferDays);
---

<PromoteNewsletter
	title={config.newsletterTitle}
	description={config.socialPostDescription}
	backgroundImage={config.backgroundImage}
	dateStringMonthDay={monthSuffixedDay(nextMeetup.date)}
	dateStringYear={year(nextMeetup.date)}
	timeString={formatTime(nextMeetup.date)}
	includeTime={true}
	locationName={nextMeetup.location.name}
	locationAddress={nextMeetup.location.address}
	talks={nextMeetup.talks}
	registrationUrl={config.registrationUrl}
	signOffNames={config.signOffNamesNewsletter}
/>
